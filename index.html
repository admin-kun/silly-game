<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>smol silly game</title>
    <style>
      /* Reset and base */
      * {
        box-sizing: border-box;
      }
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        max-width: 480px;
        margin: 40px auto;
        background: #fafafa;
        color: #222;
        padding: 20px;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        user-select: none;
      }
      h1 {
        text-align: center;
        font-weight: 700;
        margin-bottom: 2rem;
        color: #333;
      }

      #riddle-container {
        background: white;
        padding: 20px 25px;
        font-size: 1.25rem;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        margin-bottom: 1.5rem;
        line-height: 1.4;
        user-select: text;
      }

      #answer {
        width: 100%;
        padding: 12px 15px;
        font-size: 1rem;
        border: 2px solid #448aff;
        border-radius: 10px;
        outline-offset: 3px;
        outline-color: #448aff;
        transition: border-color 0.3s ease;
        margin-bottom: 1rem;
      }
      #answer:focus {
        border-color: #2962ff;
      }

      #submit-btn {
        background-color: #2962ff;
        color: white;
        border: none;
        padding: 14px 0;
        border-radius: 12px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        width: 100%;
        transition: background-color 0.25s ease;
        user-select: none;
      }
      #submit-btn:hover:not(:disabled) {
        background-color: #0039cb;
      }
      #submit-btn:disabled {
        background-color: #a0a0a0;
        cursor: not-allowed;
      }

      #result {
        min-height: 3rem;
        margin-top: 1rem;
        font-weight: 600;
        color: #222;
        user-select: text;
      }

      #inventory {
        background: white;
        padding: 15px 20px;
        border-radius: 14px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        font-size: 1rem;
        user-select: text;
      }

      #inventory h2 {
        margin: 0 0 0.6rem 0;
        border-bottom: 2px solid #448aff;
        padding-bottom: 6px;
        font-weight: 700;
        color: #2962ff;
      }

      #inventory-list {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }
      .inventory-item {
        background: #448aff;
        color: white;
        padding: 6px 12px;
        border-radius: 14px;
        font-family: monospace;
        font-weight: 600;
        font-size: 0.95rem;
        cursor: pointer;
        user-select: all;
        white-space: nowrap;
        transition: background-color 0.2s;
      }
      .inventory-item:hover {
        background-color: #0039cb;
      }

      @media (max-width: 480px) {
        body {
          margin: 20px 15px;
          padding: 15px;
        }
        #riddle-container {
          font-size: 1.15rem;
          padding: 15px 20px;
        }
        #answer {
          font-size: 1rem;
        }
        #submit-btn {
          font-size: 1rem;
          padding: 12px 0;
        }
      }
    </style>
  </head>
  <body>
    <h1>a silly game</h1>
    <div id="riddle-container"></div>
    <input
      type="text"
      id="answer"
      placeholder="Type your answer here"
      autocomplete="off"
    />
    <button id="submit-btn">Submit</button>
    <div id="result"></div>
    <div id="inventory">
      <h2>Your Rewards</h2>
      <div id="inventory-list">(you haven't earned anything yet)</div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const riddles = [
          { question: "What number scares 10 so much it disappears?", answer: "7", reward: "https://docs.google.com/document/" },
          { question: "Not just a month, but a verb in charge, Step by step, I lead the march.", answer: "march", reward: "" },
          { question: "First pair’s leader, even and prime, One more than one, I’m your number this time.", answer: "2", reward: "d/1IgXn3-hdt49qBCKsxidny07485pRXwdZY3u5fjWlE5A/edit?usp=sharing" },
        ];

        let currentRiddle = 0;
        const riddleContainer = document.getElementById("riddle-container");
        const answerInput = document.getElementById("answer");
        const submitBtn = document.getElementById("submit-btn");
        const resultDiv = document.getElementById("result");
        const inventoryList = document.getElementById("inventory-list");

        const unlockedRewards = [];

        function updateInventory() {
          if (unlockedRewards.length === 0) {
            inventoryList.textContent = "(No rewards yet)";
            return;
          }

          inventoryList.innerHTML = "";

          const part1 = "https://docs.google.com/document/";
          const part3 = "d/1IgXn3-hdt49qBCKsxidny07485pRXwdZY3u5fjWlE5A/edit?usp=sharing";

          const hasPart1 = unlockedRewards.includes(part1);
          const hasPart3 = unlockedRewards.includes(part3);

          if (hasPart1 && hasPart3) {
            const fullLink = part1 + part3;
            const fullLinkSpan = document.createElement("span");
            fullLinkSpan.className = "inventory-item";
            fullLinkSpan.textContent = "Full Google Doc Link";
            fullLinkSpan.style.backgroundColor = "#4caf50";
            fullLinkSpan.title = "Click to open full Google Doc";
            fullLinkSpan.onclick = () => window.open(fullLink, "_blank");
            inventoryList.appendChild(fullLinkSpan);
          }

          unlockedRewards.forEach((reward) => {
            if ((reward === part1 || reward === part3) && hasPart1 && hasPart3) {
              return; // skip individual parts if full link shown
            }
            const span = document.createElement("span");
            span.className = "inventory-item";
            span.textContent = reward;
            span.title = "Click to copy";
            span.onclick = () => {
              navigator.clipboard.writeText(reward);
              alert("Copied: " + reward);
            };
            inventoryList.appendChild(span);
          });
        }

        function showRiddle() {
          resultDiv.textContent = "";
          answerInput.value = "";
          riddleContainer.textContent = `Riddle ${currentRiddle + 1}: ${riddles[currentRiddle].question}`;
          answerInput.focus();
        }

        function checkAnswer() {
          const userAnswer = answerInput.value.trim().toLowerCase();
          if (!userAnswer) return;

          submitBtn.disabled = true;

          const correctAnswer = riddles[currentRiddle].answer.toLowerCase();

          if (userAnswer === correctAnswer) {
            let rewardText = "Correct!";
            const reward = riddles[currentRiddle].reward;

            if (reward) {
              rewardText += "<br>Reward unlocked! Check your rewards below.";
              if (!unlockedRewards.includes(reward)) {
                unlockedRewards.push(reward);
                updateInventory();
              }
            } else {
              rewardText += "<br>honestly, why are you doing this?";
            }
            resultDiv.innerHTML = rewardText;

            currentRiddle++;
            if (currentRiddle < riddles.length) {
              setTimeout(showRiddle, 2200);
            } else {
              riddleContainer.textContent = "You actually completed all the riddles, damn!";
              submitBtn.disabled = true;
              answerInput.disabled = true;
            }
          } else {
            resultDiv.textContent = "Wrong answer, try again.";
          }

          submitBtn.disabled = false;
        }

        submitBtn.onclick = checkAnswer;
        answerInput.onkeypress = (e) => {
          if (e.key === "Enter") checkAnswer();
        };

        showRiddle();
        updateInventory();
      });
    </script>
  </body>
</html>
